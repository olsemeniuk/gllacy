const searchPopup=document.querySelector(".search-popup"),searchInput=searchPopup.querySelector(".search-popup__input"),searchResetBtn=searchPopup.querySelector(".search-popup__reset-button"),openSearchPopup=document.querySelector(".open-search"),passwordInputWrapper=document.querySelector(".login-form__password-block"),loginPasswordInput=document.getElementById("login-password-input"),loginEmailInput=document.getElementById("login-email-input"),openLoginPopup=document.querySelector(".user-nav__button-login"),loginPopup=document.querySelector(".login-popup"),cartPopup=document.querySelector(".cart-popup"),openCartPopup=document.querySelector(".cart-button"),openPopup=(e,o,s)=>{e.classList.contains("user-nav__button--active")?(e.classList.remove("user-nav__button--active"),o.classList.remove("popup--active"),s&&s.blur()):(e.classList.add("user-nav__button--active"),o.classList.add("popup--active"),s&&s.focus())},closePopup=(o,s,t,a)=>{var r=(e,o,s)=>{e.classList.contains("user-nav__button--active")&&(e.classList.remove("user-nav__button--active"),o.classList.remove("popup--active"),e.classList.remove("user-nav__button--active"),s&&s.blur())};document.addEventListener("mousedown",e=>{null===e.target.closest(t)&&e.target!==o&&r(o,s,a)}),window.addEventListener("keydown",e=>{"Escape"===e.code&&r(o,s,a)})};openSearchPopup.addEventListener("click",()=>openPopup(openSearchPopup,searchPopup,searchInput)),openLoginPopup.addEventListener("click",()=>openPopup(openLoginPopup,loginPopup,loginEmailInput)),openCartPopup.addEventListener("click",()=>openPopup(openCartPopup,cartPopup)),closePopup(openSearchPopup,searchPopup,".search-popup",searchInput),closePopup(openLoginPopup,loginPopup,".login-popup",loginEmailInput),closePopup(openCartPopup,cartPopup,".cart-popup"),searchResetBtn.addEventListener("click",()=>{searchInput.focus(),searchResetBtn.classList.remove("search-popup__reset-button--active")}),searchInput.addEventListener("input",()=>{searchResetBtn.classList.contains("search-popup__reset-button--active")||searchResetBtn.classList.add("search-popup__reset-button--active"),""===searchInput.value&&searchResetBtn.classList.contains("search-popup__reset-button--active")&&searchResetBtn.classList.remove("search-popup__reset-button--active")}),loginPasswordInput.addEventListener("input",()=>{""!==loginPasswordInput.value?passwordInputWrapper.classList.remove("login-form__password-block--active"):passwordInputWrapper.classList.add("login-form__password-block--active")});const sliderList=document.querySelector(".slider__list"),sliderListSlide=sliderList.querySelectorAll(".item-slider"),activeSlide=sliderList.querySelector(".item-slider--active"),strawberrySlide=sliderList.querySelector(".item-slider--strawberry"),bananaSlide=sliderList.querySelector(".item-slider--banana"),marshmallowSlide=sliderList.querySelector(".item-slider--marshmallow"),bodyTag=document.querySelector("body"),sliderDots=document.querySelectorAll(".slider__dots-button");sliderDots.forEach((e,o)=>{e.addEventListener("click",()=>{for(let e=0;e<sliderDots.length;e++)sliderDots[e].classList.remove("slider__dots-button--active");e.classList.add("slider__dots-button--active"),bodyTag.classList.remove("pink-bg"),bodyTag.classList.remove("blue-bg"),bodyTag.classList.remove("yellow-bg"),sliderListSlide.forEach(e=>{e.classList.remove("item-slider--active")}),0===o?(strawberrySlide.classList.add("item-slider--active"),bodyTag.classList.add("pink-bg"),bodyTag.classList.remove("blue-bg"),bodyTag.classList.remove("yellow-bg")):1===o?(bananaSlide.classList.add("item-slider--active"),bodyTag.classList.add("blue-bg"),bodyTag.classList.remove("pink-bg"),bodyTag.classList.remove("yellow-bg")):2===o&&(marshmallowSlide.classList.add("item-slider--active"),bodyTag.classList.add("yellow-bg"),bodyTag.classList.remove("pink-bg"),bodyTag.classList.remove("blue-bg"))})});const modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),modalOpen=document.querySelectorAll(".open-modal"),modalCloseBtn=modal.querySelector(".modal__close-button"),modalNameInput=modal.querySelector("#contact-name-input");modalOpen.forEach(e=>{e.addEventListener("click",()=>{overlay.classList.contains("overlay--active")||(overlay.classList.add("overlay--active"),modal.classList.add("modal--active"),modalNameInput.focus())})});const closeModal=e=>{e.addEventListener("click",()=>{overlay.classList.contains("overlay--active")&&(overlay.classList.remove("overlay--active"),modal.classList.remove("modal--active"))})};modal.addEventListener("click",e=>{e.stopPropagation()}),window.addEventListener("keydown",e=>{"Escape"===e.code&&(overlay.classList.remove("overlay--active"),modal.classList.remove("modal--active"))}),closeModal(overlay),closeModal(modalCloseBtn);
